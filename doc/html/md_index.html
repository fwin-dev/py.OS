<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>py.OS: Package description</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">py.OS
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.2 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Packages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('md_index.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Package description </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>The OS module provides common operating system functions that are platform independent.</p>
<p>Note that for most of the functions/methods on this page, arguments are not listed. You should look at the source code to determine the arguments needed.</p>
<h1>Summary of functionality</h1>
<ul>
<li>Finding a suitable version of python installed in the OS for compatibility reasons</li>
<li>Retrieving general operating system information</li>
<li>Interacting with operating system services - start, stop, restart, set boot state, etc.</li>
<li>Interacting with the OS package manager (apt, yum, macports) - installing, removing, upgrading, etc.</li>
<li>Miscellaneous APIs and scripts that do not yet have a home may also be included in this python OS package for various reasons. Currently, this includes:<ul>
<li>Removal of legacy LinuxCommon package, which used to be a master package containing py.OS, py.Net, py.Lang, and py.Disk</li>
<li>GPG encryption/decryption library, which is not yet fully featured and is small enough to be included in the py.OS package</li>
</ul>
</li>
</ul>
<h1>Detailed functionality</h1>
<h2>Python version information</h2>
<p>The following is accessible by using the PyVersion module: </p>
<pre class="fragment">import PyVersion
</pre><h3>Determining the executable path or name of the currently running python interpreter</h3>
<pre class="fragment">PyVersion.PY_EXE
</pre><h3>Finding a suitable installed version of python to run your code</h3>
<pre class="fragment">PyVersion.checkSuitablePyExe()
</pre><hr/>
<h2>Retrieving information about the OS and performing common OS-related functions</h2>
<p>The following is accessible by using the OS module: </p>
<pre class="fragment">import OS
</pre><h3>Determining what OS is running</h3>
<pre class="fragment">OS.flavor
</pre><h3>Determining the OS version</h3>
<pre class="fragment">OS.version
</pre><h3>Determining if an OS is unix/unix-like (Linux, Darwin, etc.)</h3>
<pre class="fragment">OS.isUnix()
</pre><h3>Determine if your python script has root permissions (ran as root or using sudo)</h3>
<pre class="fragment">OS.hasRootPermissions()
</pre><h3>Run a command in the terminal</h3>
<p>There are lots of arguments here. Refer to the code! </p>
<pre class="fragment">OS.runCMD()
</pre><hr/>
<h2>System services</h2>
<p>The following is accessible by using the services module: </p>
<pre class="fragment">import OS.svc
</pre><p>These features are self-explanatory with a quick glance at the code.</p>
<h3>Start, stop, or restart a service right now</h3>
<h3>Change whether a service starts on boot</h3>
<h3>Remove a service</h3>
<hr/>
<h2>System software packages</h2>
<p>The following is accessible by using the packages module: </p>
<pre class="fragment">import OS.pkg
</pre><p>OS.pkg is more complex than some modules. Most of this is due to differences between the underlying package managers supported by OS.pkg, including:</p>
<ul>
<li><code>yum</code> for CentOS and Red Hat is supported natively through python, since yum itself is written in python</li>
<li><code>apt</code> for Debian, Ubuntu, etc. is supported by using the <code>python-apt</code> module which will be installed along with the <code>py.OS</code> package if your OS is apt-based</li>
<li><code>macports</code> for Mac OSX is supported (sadly) only by parsing command line output using the <code>port</code> command</li>
</ul>
<p>The good news is that one similar API can be used to work with packages for all 3 package managers across different platforms.</p>
<p>The bad news is that sometimes a package will have a different name across different package managers, even though they effectively install the same thing. To work around this, you can do for example: </p>
<pre class="fragment">if OS.pkg.isYumOS():
    OS.pkg.install("yum package name here")
elif OS.pkg.isAptOS():
    OS.pkg.install("apt-get package name here")
elif OS.pkg.isPortOS():
    OS.pkg.install("macports package name here")
</pre><p>Also, when using install, update, isAvailable, and similar functions, there is no need to manually update the list of available packages from the internet. This is done automatically when OS.pkg is imported.</p>
<h3>Checking if the pkg module supports your OS</h3>
<pre class="fragment">OS.pkg.isSupported()
</pre><h3>Checking if a package is installed</h3>
<pre class="fragment">OS.pkg.isInstalled()
</pre><h3>Checking if a package is available for install</h3>
<pre class="fragment">OS.pkg.isAvailable()
</pre><h3>Installing a package</h3>
<p>See above. You can also install an iterable of packages like: </p>
<pre class="fragment">OS.pkg.install(("nano", "vim", "emacs"))
</pre><h3>Upgrading/updating existing packages</h3>
<pre class="fragment">OS.pkg.update()
</pre><h3>Removing/uninstalling a package</h3>
<pre class="fragment">OS.pkg.remove()
</pre><ul>
<li>On apt, an additional argument <code>purgeConfigFiles</code> can be specified which, when <code>True</code>, is identical to <code>apt-get purge</code></li>
</ul>
<h3>Platform-specific functions</h3>
<h4>Updating the kernel on apt</h4>
<pre class="fragment">OS.pkg.updateKernel()
</pre><h4>Installing a 3rd party repository on yum</h4>
<pre class="fragment">OS.pkg.installRepo_RPM()
OS.pkg.installRepo_allKeys()
</pre><h5>Installing EPEL on yum</h5>
<p>This is a convenience method for installing EPEL. The latest EPEL RPM will be fetched. </p>
<pre class="fragment">OS.pkg.installRepo_EPEL()
</pre><hr/>
<h2>GPG</h2>
<p>The following is accessible by using the GPG module: </p>
<pre class="fragment">from OS import GPG
</pre><p>These features are self-explanatory with a quick glance at the code in OS.GPG</p>
<h3>Import a key to the local keyring</h3>
<h3>Get a key's ID</h3>
<h3>Check if a key is imported</h3>
<h3>Encrypt a file</h3>
<h3>Decrypt a file</h3>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Mon Feb 4 2013 17:17:41 for py.OS by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.2 </li>
  </ul>
</div>
</body>
</html>
